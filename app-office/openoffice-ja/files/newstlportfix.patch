diff -urN stlport.orig/STLport-4.5.3.patch stlport/STLport-4.5.3.patch
--- stlport.orig/STLport-4.5.3.patch	1970-01-01 01:00:00.000000000 +0100
+++ stlport/STLport-4.5.3.patch	2004-02-08 11:52:28.424007600 +0100
@@ -0,0 +1,247 @@
+*** misc/STLport-4.5.3/src/fstream.cpp	Tue Sep  4 19:10:12 2001
+--- misc/build/STLport-4.5.3/src/fstream.cpp	Fri Jan 11 17:22:40 2002
+***************
+*** 293,299 ****
+  #ifdef __MINGW32__
+   __MINGW_IMPORT ioinfo * __pioinfo[];
+  #else
+!   extern _CRTIMP ioinfo * __pioinfo[];
+  #endif
+  
+  } // extern "C"
+--- 293,299 ----
+  #ifdef __MINGW32__
+   __MINGW_IMPORT ioinfo * __pioinfo[];
+  #else
+!   extern __declspec( dllimport ) ioinfo * __pioinfo[];
+  #endif
+  
+  } // extern "C"
+*** misc/STLport-4.5.3/src/gcc-3.0.mak	Fri Jan 11 12:48:44 2002
+--- misc/build/STLport-4.5.3/src/gcc-3.0.mak	Fri Jan 11 12:47:21 2002
+***************
+*** 1 ****
+! dummy
+--- 1,59 ----
+! #
+! # Note : this makefile is for gcc-3 !
+! #
+! 
+! #
+! # compiler
+! #
+! CC = $(CCCOMP) 
+! CXX = $(CXXCOMP) -D_REENTRANT -fexceptions
+! 
+! #
+! # Basename for libraries
+! #
+! LIB_BASENAME = libstlport_gcc
+! 
+! #
+! # guts for common stuff
+! #
+! #
+! LINK=ar cr
+! DYN_LINK=$(CXX) --fexceptions -shared -o
+! 
+! OBJEXT=o
+! DYNEXT=so
+! STEXT=a
+! RM=rm -rf
+! PATH_SEP=/
+! MKDIR=mkdir -p
+! COMP=GCC$(ARCH)
+! INSTALL_STEP = install_unix 
+! 
+! all:  all_dynamic all_static symbolic_links 
+! 
+! include common_macros.mak
+! 
+! WARNING_FLAGS= -Wall -W -Wno-sign-compare -Wno-unused -Wno-uninitialized -ftemplate-depth-32
+! 
+! CXXFLAGS_COMMON = -I${STLPORT_DIR} ${WARNING_FLAGS}
+! 
+! CXXFLAGS_RELEASE_static = $(CXXFLAGS_COMMON) -O2 -fPIC
+! CXXFLAGS_RELEASE_dynamic = $(CXXFLAGS_COMMON) -O2 -fPIC
+! 
+! CXXFLAGS_DEBUG_static = $(CXXFLAGS_COMMON) -g -fPIC
+! CXXFLAGS_DEBUG_dynamic = $(CXXFLAGS_COMMON) -g -fPIC
+! 
+! CXXFLAGS_STLDEBUG_static = $(CXXFLAGS_DEBUG_static) -D_STLP_DEBUG
+! CXXFLAGS_STLDEBUG_dynamic = $(CXXFLAGS_DEBUG_dynamic) -D_STLP_DEBUG
+! 
+! include common_percent_rules.mak
+! include common_rules.mak
+! 
+! 
+! #install: all
+! #	cp -p $(LIB_TARGET) ${D_LIB_TARGET} ../lib
+! 
+! #%.s: %.cpp
+! #	$(CXX) $(CXXFLAGS) -O4 -S -pto $<  -o $@
+! 
+! 
+*** misc/STLport-4.5.3/src/vc6.mak	Mon Jul 30 00:18:15 2001
+--- misc/build/STLport-4.5.3/src/vc6.mak	Fri Jan 11 17:41:08 2002
+***************
+*** 10,16 ****
+  COMP=VC6
+  
+  # EXTRA_COMMON_FLAGS=/D "_MBCS"
+! EXTRA_COMMON_FLAGS=/Zm800 /FI "vc_warning_disable.h" /D "_MBCS"
+  EXTRA_DEBUG_FLAGS=
+  EXTRA_NDEBUG_FLAGS=
+  
+--- 10,16 ----
+  COMP=VC6
+  
+  # EXTRA_COMMON_FLAGS=/D "_MBCS"
+! EXTRA_COMMON_FLAGS=/Zm800 /FI "vc_warning_disable.h" /D "_MBCS" /D "_NTSDK" /D "_CRTIMP="
+  EXTRA_DEBUG_FLAGS=
+  EXTRA_NDEBUG_FLAGS=
+  
+*** misc/STLport-4.5.3/src/vc_common.mak	Tue Sep  4 19:10:12 2001
+--- misc/build/STLport-4.5.3/src/vc_common.mak	Fri Jan 11 12:48:14 2002
+***************
+*** 62,68 ****
+  LDFLAGS_RELEASE=/opt:ref
+  
+  LDFLAGS_COMMON_static=$(LDFLAGS_COMMON)
+! LDFLAGS_COMMON_dynamic=$(LDFLAGS_COMMON) /dll /incremental:no
+  
+  
+  CXXFLAGS_DEBUG_static=$(FLAGS_COMMON_static) /MTd $(FLAGS_DEBUG) /Fo"$(DEBUG_OBJDIR_static)\\" /Fd"$(DEBUG_OBJDIR_static)\\" /YXstlport_prefix.h /Fp$(DEBUG_OBJDIR_static)\stlport.pch
+--- 62,68 ----
+  LDFLAGS_RELEASE=/opt:ref
+  
+  LDFLAGS_COMMON_static=$(LDFLAGS_COMMON)
+! LDFLAGS_COMMON_dynamic=$(LDFLAGS_COMMON) /nodefaultlib oldnames.lib kernel32.lib /dll /incremental:no
+  
+  
+  CXXFLAGS_DEBUG_static=$(FLAGS_COMMON_static) /MTd $(FLAGS_DEBUG) /Fo"$(DEBUG_OBJDIR_static)\\" /Fd"$(DEBUG_OBJDIR_static)\\" /YXstlport_prefix.h /Fp$(DEBUG_OBJDIR_static)\stlport.pch
+***************
+*** 79,87 ****
+  
+  
+  LDFLAGS_DEBUG_static=$(LDFLAGS_COMMON_static)
+! LDFLAGS_DEBUG_dynamic=$(LDFLAGS_COMMON_dynamic) $(LDFLAGS_DEBUG) /implib:"$(OUTDIR)\$(DEBUG_NAME).$(STEXT)"
+  LDFLAGS_STLDEBUG_static=$(LDFLAGS_COMMON_static)
+! LDFLAGS_STLDEBUG_dynamic=$(LDFLAGS_COMMON_dynamic) $(LDFLAGS_DEBUG) /implib:"$(OUTDIR)\$(STLDEBUG_NAME).$(STEXT)" 
+  
+  # LDFLAGS_DEBUG_static=$(LDFLAGS_COMMON_static)  /DEBUGTYPE:CV
+  # LDFLAGS_DEBUG_dynamic=$(LDFLAGS_COMMON_dynamic) /DEBUG /DEBUGTYPE:CV /implib:"$(OUTDIR)\$(DEBUG_NAME).$(STEXT)" 
+--- 79,87 ----
+  
+  
+  LDFLAGS_DEBUG_static=$(LDFLAGS_COMMON_static)
+! LDFLAGS_DEBUG_dynamic=$(LDFLAGS_COMMON_dynamic) msvcrtd.lib $(LDFLAGS_DEBUG) /implib:"$(OUTDIR)\$(DEBUG_NAME).$(STEXT)"
+  LDFLAGS_STLDEBUG_static=$(LDFLAGS_COMMON_static)
+! LDFLAGS_STLDEBUG_dynamic=$(LDFLAGS_COMMON_dynamic) msvcrtd.lib $(LDFLAGS_DEBUG) /implib:"$(OUTDIR)\$(STLDEBUG_NAME).$(STEXT)" 
+  
+  # LDFLAGS_DEBUG_static=$(LDFLAGS_COMMON_static)  /DEBUGTYPE:CV
+  # LDFLAGS_DEBUG_dynamic=$(LDFLAGS_COMMON_dynamic) /DEBUG /DEBUGTYPE:CV /implib:"$(OUTDIR)\$(DEBUG_NAME).$(STEXT)" 
+***************
+*** 95,101 ****
+  CXXFLAGS_RELEASE_dynamic=$(FLAGS_COMMON_dynamic) /MD $(FLAGS_NDEBUG) /Fo"$(RELEASE_OBJDIR_dynamic)\\" /Fd"$(RELEASE_OBJDIR_dynamic)\\" /YXstlport_prefix.h /Fp$(RELEASE_OBJDIR_dynamic)\stlport.pch
+  
+  LDFLAGS_RELEASE_static=$(LDFLAGS_COMMON_static)
+! LDFLAGS_RELEASE_dynamic=$(LDFLAGS_COMMON_dynamic) $(LDFLAGS_RELEASE) /implib:"$(OUTDIR)\$(RELEASE_NAME).$(STEXT)" 
+  # LDFLAGS_RELEASE_dynamic=$(LDFLAGS_COMMON_dynamic) /implib:"$(OUTDIR)\$(RELEASE_NAME).$(STEXT)" 
+  
+  RESFILE=$(RELEASE_OBJDIR_dynamic)$(PATH_SEP)stlport.res
+--- 95,101 ----
+  CXXFLAGS_RELEASE_dynamic=$(FLAGS_COMMON_dynamic) /MD $(FLAGS_NDEBUG) /Fo"$(RELEASE_OBJDIR_dynamic)\\" /Fd"$(RELEASE_OBJDIR_dynamic)\\" /YXstlport_prefix.h /Fp$(RELEASE_OBJDIR_dynamic)\stlport.pch
+  
+  LDFLAGS_RELEASE_static=$(LDFLAGS_COMMON_static)
+! LDFLAGS_RELEASE_dynamic=$(LDFLAGS_COMMON_dynamic) $(LDFLAGS_RELEASE) msvcrt.lib /implib:"$(OUTDIR)\$(RELEASE_NAME).$(STEXT)" 
+  # LDFLAGS_RELEASE_dynamic=$(LDFLAGS_COMMON_dynamic) /implib:"$(OUTDIR)\$(RELEASE_NAME).$(STEXT)" 
+  
+  RESFILE=$(RELEASE_OBJDIR_dynamic)$(PATH_SEP)stlport.res
+*** misc/STLport-4.5.3/stlport/stdexcept	Tue May 22 02:50:21 2001
+--- misc/build/STLport-4.5.3/stlport/stdexcept	Mon Jan 14 18:26:09 2002
+***************
+*** 49,54 ****
+--- 49,59 ----
+  
+  _STLP_BEGIN_NAMESPACE
+  
++ /* maybe limit to gcc 3.x */
++ #if defined( __GNUC__)
++ #define _STLP_NOTHROW_INHERENTLY throw()
++ #endif
++ 
+  class _STLP_CLASS_DECLSPEC __Named_exception : public _STLP_EXCEPTION_BASE {
+  public:
+    __Named_exception(const string& __str) 
+*** misc/STLport-4.5.3/stlport/config/stl_gcc.h	Thu Jun  6 22:53:04 2002
+--- misc/build/STLport-4.5.3/stlport/config/stl_gcc.h	Thu Jun  6 22:53:56 2002
+***************
+*** 226,233 ****
+  
+  # if (__GNUC__ >= 3)
+  
+! #  define _STLP_NATIVE_INCLUDE_PATH ../g++-v3
+! #  define _STLP_NATIVE_OLD_STREAMS_INCLUDE_PATH ../g++-v3/backward
+  
+  # elif (__GNUC_MINOR__ < 8)
+  
+--- 226,233 ----
+  
+  # if (__GNUC__ >= 3)
+  
+! #  define _STLP_NATIVE_INCLUDE_PATH ../g++-v3
+! #  define _STLP_NATIVE_OLD_STREAMS_INCLUDE_PATH ../g++-v3/backward
+  
+  # elif (__GNUC_MINOR__ < 8)
+  
+***************
+*** 285,298 ****
+  # if defined(__DJGPP)
+  #   define _STLP_NATIVE_INCLUDE_PATH ../lang/cxx
+  # elif (__GNUC__ >= 3) || (__GNUC_MINOR__ >= 97)
+! #   define _STLP_NATIVE_INCLUDE_PATH ../include/g++-v3
+  # elif ((__GNUC_MINOR__ >= 95 && __GNUC_MINOR__ < 97) && !( defined (__FreeBSD__) || defined (__NetBSD__) || defined(__sgi) ) )
+! #   define _STLP_NATIVE_INCLUDE_PATH ../g++-3
+  # elif (__GNUC_MINOR__ > 8) && (__GNUC_MINOR__ < 95) && (__GNUC__ < 3) && !defined( __Lynx__ )
+  // this really sucks, as GNUpro does not really identifies itself, so we have to guess 
+  // depending on a platform
+  #   ifdef __hpux
+! #    define _STLP_NATIVE_INCLUDE_PATH ../g++-3
+  #   else
+  #    define _STLP_NATIVE_INCLUDE_PATH ../g++-2
+  #   endif
+--- 285,298 ----
+  # if defined(__DJGPP)
+  #   define _STLP_NATIVE_INCLUDE_PATH ../lang/cxx
+  # elif (__GNUC__ >= 3) || (__GNUC_MINOR__ >= 97)
+! #   define _STLP_NATIVE_INCLUDE_PATH ../include/g++-v3
+  # elif ((__GNUC_MINOR__ >= 95 && __GNUC_MINOR__ < 97) && !( defined (__FreeBSD__) || defined (__NetBSD__) || defined(__sgi) ) )
+! #   define _STLP_NATIVE_INCLUDE_PATH ../g++-v32
+  # elif (__GNUC_MINOR__ > 8) && (__GNUC_MINOR__ < 95) && (__GNUC__ < 3) && !defined( __Lynx__ )
+  // this really sucks, as GNUpro does not really identifies itself, so we have to guess 
+  // depending on a platform
+  #   ifdef __hpux
+! #    define _STLP_NATIVE_INCLUDE_PATH ../g++-v3
+  #   else
+  #    define _STLP_NATIVE_INCLUDE_PATH ../g++-2
+  #   endif
+*** misc/STLport-4.5.3/src/common_rules.mak	Tue Sep 10 23:41:05 2002
+--- misc/build/STLport-4.5.3/src/common_rules.mak	Tue Sep 10 23:39:45 2002
+***************
+*** 84,90 ****
+  	$(RM) $(OUTDIR)/$(STLDEBUG_NAME).$(DYNEXT)
+  	$(RM) $(OUTDIR)/$(DEBUG_NAME).$(DYNEXT)
+  	ln -s $(RELEASE_DYNLIB) $(OUTDIR)/$(RELEASE_NAME).$(DYNEXT)
+! 	-ln -s $(DEBUG_DYNLIB) $(OUTDIR)/$(DEBUG_NAME).$(DYNEXT)
+  	ln -s $(STLDEBUG_DYNLIB) $(OUTDIR)/$(STLDEBUG_NAME).$(DYNEXT)
+  
+  install_unix :
+--- 84,90 ----
+  	$(RM) $(OUTDIR)/$(STLDEBUG_NAME).$(DYNEXT)
+  	$(RM) $(OUTDIR)/$(DEBUG_NAME).$(DYNEXT)
+  	ln -s $(RELEASE_DYNLIB) $(OUTDIR)/$(RELEASE_NAME).$(DYNEXT)
+! 	-ln -s $(STLDEBUG_DYNLIB) $(OUTDIR)/$(DEBUG_NAME).$(DYNEXT)
+  	ln -s $(STLDEBUG_DYNLIB) $(OUTDIR)/$(STLDEBUG_NAME).$(DYNEXT)
+  
+  install_unix :
diff -urN stlport.orig/makefile.mk stlport/makefile.mk
--- stlport.orig/makefile.mk	2004-01-28 11:52:04.000000000 +0100
+++ stlport/makefile.mk	2004-02-08 12:01:34.362287427 +0100
@@ -72,11 +72,12 @@
 # --- Files --------------------------------------------------------
 .EXPORT : CC CXX
 .IF "$(COMID)"=="gcc3"
-	TARFILE_NAME=STLport-4.5
        .IF "$(OS)$(BUILD_OS_MAJOR)$(BUILD_OS_MINOR)"=="MACOSX103"
+               TARFILE_NAME=STLport-4.5
                PATCH_FILE_NAME=STLport-4.5-macxp-panther.patch
        .ELSE
-               PATCH_FILE_NAME=STLport-4.5.patch
+               TARFILE_NAME=STLport-4.5.3
+               PATCH_FILE_NAME=STLport-4.5.3.patch
        .ENDIF
 .ELSE			# "$(COMID)"=="gcc3"
 	.IF "$(OS)"=="MACOSX"
